!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("time_dfp",[],t):"object"==typeof exports?exports.time_dfp=t():e.time_dfp=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="//tia.timeinc.net/timeinc/",t(t.s=36)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return window},o=function(){return document};t.default={getWindow:i,getDocument:o},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=t.hasClass=t.removeClass=t.addClass=t.clone=t.noop=t.getPixelsInViewPort=t.getElementInViewPort=t.appendScriptToHead=t.prependScriptToHead=t.doesQueryStringContainPII=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(3),s=n(0),d=i(s),l=/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i,c=(t.doesQueryStringContainPII=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.default.getWindow().location.toString();return l.test(e)||(0,r.getUrlTargeting)(e).Query.some(function(e){return"email"===e.split(":")[0]})},t.prependScriptToHead=function(e){var t=a(document.createElement("script"),e),n=document.getElementsByTagName("script")[0];return n.parentNode.insertBefore(t,n)},t.appendScriptToHead=function(e){var t=a(document.createElement("script"),e);return document.head.appendChild(t)},t.getElementInViewPort=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.getBoundingClientRect(),o=d.default.getWindow().innerHeight||document.documentElement.clientHeight;return n?i.top>=-t&&i.top<=o+t||i.bottom>=-t&&i.bottom<=o+t:i.top>=-t&&i.bottom<=o+t},t.getPixelsInViewPort=function(e){var t=e.getBoundingClientRect(),n=d.default.getWindow().innerHeight||document.documentElement.clientHeight;return t.bottom>n||t.top>=0?{from:"top",px:n-t.top}:{from:"bottom",px:t.bottom}},t.noop=function(){},t.clone=function(e){return JSON.parse(JSON.stringify(e))},t.addClass=function(e,t){e.classList?e.classList.add(t):e.className=e.className+" "+t},t.removeClass=function(e,t){if(e.classList)e.classList.remove(t);else{var n=t.split(" ").join("|");e.className=e.className.replace(new RegExp("(^|\\b)"+n+"(\\b|$)","gi")," ")}},t.hasClass=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},{START:0,END:1,THROTTLING:2});t.throttle=function(e,t){var n=c.START,i=void 0,a=function a(){n=c.END,e.apply(void 0,o(i)),i=void 0,setTimeout(function(){if(n===c.THROTTLING)return a();n=c.START},t)};return function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];if(i=t,n===c.START)return a();n=c.THROTTLING}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.updateTas=t.formatTippData=t.formatSlotData=t.formatData=t.recordNow=t.gptEvents=t.EventName=t.Namespace=void 0;var r,s,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=n(0),c=i(l),u=n(4),f=t.Namespace={TGX:"tgx",GPT:"gpt",ADS:"ads"},g=t.EventName={LOAD:"load",INIT:"init",SLEEP:"sleep",WAKE:"wake",CALLED:"called",SLOT_RENDER_ENDED:"slotRenderEnded",SLOT_ONLOAD:"slotOnload",IMPRESSION_VIEWABLE:"impressionViewable",SLOT_VISIBILITY_CHANGED:"slotVisibilityChanged"},p=(t.gptEvents=[g.SLOT_RENDER_ENDED,g.SLOT_ONLOAD,g.IMPRESSION_VIEWABLE],t.recordNow=function(){return Math.round(100*window.performance.now())/100}),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dfp,i=t.arg,o=a(t,["dfp","arg"]),r={date:p(),type:e,details:o};return i!==n&&(r.details.arg=i),r};t.formatData=h;var m=(r={},o(r,g.SLOT_RENDER_ENDED,"slot-Rendered"),o(r,g.SLOT_ONLOAD,"slot-Loaded"),o(r,g.IMPRESSION_VIEWABLE,"slot-View"),r),v=(t.formatSlotData=function(e,t,n){return{size:n.tracking.size,slotId:n.id,slotName:t.slot.getAdUnitPath(),event:m[e],service:t.serviceName,advertiserId:t.advertiserId,campaignId:t.campaignId,creativeId:t.creativeId,labelIds:t.labelIds,lineItemId:t.lineItemId,defineTime:n.tracking.define||0,defineActualTime:n.tracking.defineActual||0,displayTime:n.tracking.display||0,renderTime:n.tracking[g.SLOT_RENDER_ENDED]||0,loadTime:n.tracking[g.SLOT_ONLOAD]||0,viewTime:n.tracking[g.IMPRESSION_VIEWABLE]||0}},t.formatTippData=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.domContentLoadedEventEnd,r=i.navigationStart;return JSON.stringify({data:d({navigationStart:r,domContentLoadedEventEnd:a-r,ctype:e.config.setGlobalTargeting.ctype,zone:e.adUnitPath(t.adUnit)||e.config.zone,sra:e.config.enableSingleRequest,sitename:e.config.sitename,uri:window.location.href,device:(0,u.getPlatform)()},Object.keys(n).filter(function(e){return e!==f.ADS}).reduce(function(e,t){return Object.keys(n[t]).reduce(function(e,i){return n[t][i].reduce(function(e,t){var n=t.type,i=t.details,a=t.date;return d(e,o({},""+n+(i.msg||""),a))},e)},e)},{}),t.tracking)})}),y=Math.random()<.001,w=0,b=t.updateTas=function(e,t,n,i){var o=c.default.getWindow();if(e===f.ADS){if(y&&!w&&t===g.SLOT_ONLOAD&&1===window.time_dfp.state.slots.findIndex(function(e){return e.id===n.details.slotId})){w++;var a=d(new XMLHttpRequest,{onload:function(){console.info(this.responseText)},onerror:console.error.bind(console)});a.open("PUT","https://g5czxtlau7.execute-api.us-west-2.amazonaws.com/v1/streams/tgx-perf/record",!0),a.setRequestHeader("Content-type","application/json; charset=utf-8"),a.send(v(window.time_dfp,window.time_dfp.state.slots[1],i,window.performance.timing))}o.tas._tam.push(function(){return o.tas.tracker.trackAd(d({date:n.date},n.details))})}else o.tas._tam.push(function(){return o.tas.tracker.trackEvent(n.type,n.date)})};t.default={events:(s={},o(s,f.TGX,{}),o(s,f.GPT,{}),o(s,f.ADS,{}),s),trackEvent:function(e,t,n,i){var o=e+"."+t+(void 0===n?"":"."+n),a=h(o,i);return this.events[e]=this.events[e]||{},this.events[e][t]=this.events[e][t]||[],void 0===n?this.events[e][t].push(a):this.events[e][t][n]=a,b(e,t,a,this.events),a}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isCampaign=t.addSize=t.unitHasSize=t.hasSize=t.sanitize=t.getUrlTargeting=t.extend=t.sizeStringToArray=t.sizeToArray=t.getCookie=t.isSecure=t.isTestMode=t.isDebugMode=t.getSubDomain=t.getRootDomain=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(0),r=i(a),s=(t.getRootDomain=function(){var e=r.default.getWindow().location.hostname,t=e.split(".");return void 0===t[1]||1===t.length?e:t[t.length-2]+"."+t[t.length-1]},t.getSubDomain=function(){return document.domain},t.isDebugMode=function(){var e=r.default.getWindow(),t=e.location,n=e.time_dfp;return-1!==t.search.indexOf("debugads")||void 0!==n&&void 0!==n.config&&n.config.debug},t.isTestMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return-1!==r.default.getWindow().location.search.indexOf("testads")||void 0!==e.testads},t.isSecure=function(){return"https:"===r.default.getWindow().document.location.protocol},t.getCookie=function(e){if(!e)return null;var t=r.default.getWindow().document.cookie;return decodeURIComponent(t.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},function(e){return Array.isArray(e)?e[0]+"x"+e[1]:e}),d=t.sizeToArray=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Array.isArray(e)?"number"==typeof e[0]?t?s(e):[e]:t?e.map(s):e:[]},l=(t.sizeStringToArray=function(e){return Array.isArray(e)?e:e.split("x").map(Number)},t.extend=function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.apply(void 0,[i].concat(t))},t.getUrlTargeting=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.default.getWindow().location.toString(),t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);return{Host:t[4]||"",Path:(t[5]||"").replace(/(.)\/$/,"$1"),Query:(t[7]||"").replace(/\=/gi,":").split("&")}},t.sanitize=function(e,t){var n=e;return"string"==typeof e&&(t.convertHyphens&&(n=n.replace(/-/gi,"_")),t.stripNonAlphaNumeric&&(n=n.replace(/[^\w\/]/gi,""))),n},t.hasSize=function(e,t){var n=d(e);return Array.isArray(n)?n.some(function(e){return-1!==e.indexOf(t)}):-1!==n.indexOf(t)});t.unitHasSize=function(e,t){return!(void 0===e.sizes||!e.sizes.some(function(e){return l(e[1],t)}))||l(e.size,t)},t.addSize=function(e,t){if(!l(e.size,t)){var n=d(e.size,!1);n.push(t),e.size=n}void 0!==e.sizes&&e.sizes.forEach(function(e){if(!l(e[1],t)){var n=d(e[1],!1);n.push(t),e[1]=n}})},t.isCampaign=function(e){var t={};return e.getSlots().some(function(e){var n=e.getResponseInformation(),i=[24517214,25479614],o=void 0;return n&&n.lineItemId&&-1===i.indexOf(n.advertiserId)&&(o=t[n.lineItemId],t[n.lineItemId]=!0),o})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.onInit=t.getPlatform=void 0,t.default=function(e){e.onInit.push(d)};var o=n(3),a=n(0),r=i(a),s=t.getPlatform=function(){var e=r.default.getWindow().navigator.userAgent,t=(0,o.getCookie)("TI_PREFS");return e.match(/iPad/i)||"tablet"===t?"tablet":e.match(/Mobi/)||"phone"===t||"iphone"===t?"mobile":"desktop"},d=t.onInit=function(e){var t=r.default.getWindow(),n=r.default.getDocument();if(e.config.setTargeting=e.config.setTargeting||{},e.config.setGlobalTargeting=e.config.setGlobalTargeting||{},e.config.setTargeting.plat=s(),(e.config.useBehaviorTracking||e.config.useRevSciTracking)&&(e.config.setGlobalTargeting.rsseg=[]),e.config.useQuantcastTracking&&(e.config.setGlobalTargeting.qc=[""]),e.config.useTacodaTracking){t.tcd_segs_cookie=(0,o.getCookie)("AxData");var i=null!==t.tcd_segs_cookie?t.tcd_segs_cookie.split("#"):[];i.length>0&&i[1].indexOf("|")>0?e.config.setGlobalTargeting.tcseg=i[1].split("|"):e.config.setGlobalTargeting.tcseg=i[1]}var a=n.referrer.split("/")[2];e.config.setGlobalTargeting.domain=n.URL.split("/")[2],""!==n.referrer&&(e.config.setGlobalTargeting.rhost=a),void 0!==a&&a===e.config.setGlobalTargeting.domain||(e.config.setGlobalTargeting.pu=0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type={ON_SCROLL:"native-onscroll",VIDEO:"video",UPDATE:"update"}},function(e,t,n){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],o=0;o<n;){var a=t[o];if(e.call(i,a,o,t))return a;o++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],o=0;o<n;){var a=t[o];if(e.call(i,a,o,t))return o;o++}return-1}}),Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},i=Math.pow(2,53)-1,o=function(e){var t=n(e);return Math.min(Math.max(t,0),i)};return function(e){var n=this,i=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,r=arguments.length>1?arguments[1]:void 0;if(void 0!==r){if(!t(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var s,d=o(i.length),l=t(n)?Object(new n(d)):new Array(d),c=0;c<d;)s=i[c],l[c]=r?void 0===a?r(s,c):r.call(a,s,c):s,c+=1;return l.length=d,l}}()),Array.prototype.some||(Array.prototype.some=function(e){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,i=arguments.length>=2?arguments[1]:void 0,o=0;o<n;o++)if(o in t&&e.call(i,t[o],o,t))return!0;return!1}),Array.prototype.every||(Array.prototype.every=function(e,t){var n,i;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof e)throw new TypeError;for(arguments.length>1&&(n=t),i=0;i<a;){var r;if(i in o&&(r=o[i],!e.call(n,r,i,o)))return!1;i++}return!0}),Date.now||(Date.now=function(){return(new Date).getTime()}),function(){if("performance"in window==0&&(window.performance={}),"now"in window.performance==0){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}}(),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e={fireEvents:i,onInit:[],onAfterInit:[],onRefresh:[],onSlotRefresh:[],defineSlot:[],afterdefineSlot:[],displaySlot:[],blockLoad:!1};return window.addEventListener("dfp.beforeInit",function(t){i(e.onInit,[t.detail.dfp])}),window.addEventListener("dfp.afterInit",function(t){i(e.onAfterInit,[t.detail.dfp])}),window.addEventListener("dfp.defineSlot",function(t){i(e.defineSlot,[t.detail.dfp,t.detail.arg])}),window.addEventListener("dfp.slotAfterDefine",function(t){i(e.afterdefineSlot,[t.detail.dfp,t.detail.arg])}),window.addEventListener("dfp.slotBeforeDisplay",function(t){i(e.displaySlot,[t.detail.dfp,t.detail.arg])}),window.addEventListener("dfp.refresh",function(t){i(e.onRefresh,[t.detail.dfp])}),window.addEventListener("dfp.slotRefresh",function(t){i(e.onSlotRefresh,[t.detail.dfp,t.detail.arg])}),e};var i=t.fireEvents=function(e,t){e.forEach(function(e){try{e.apply(window,t)}catch(t){console.error("error: tracking.fireEvents - "+e.toString()),console.error(t)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collapseAds=t.unhideAds=t.hideAds=t.normalizeAdIdArgs=t.hideOutbrain=t.unhideOutbrain=t.unhideGumGum=t.hideGumGum=t.applyClassById=t.removeClassById=t.addStyle=void 0,t.default=function(){var e=!1;window.addEventListener("dfp.beforeInit",function(e){a=e.detail.dfp,a.constructor.prototype.hide=p,a.constructor.prototype.unhide=h,a.constructor.prototype.collapse=m}),window.addEventListener("dfp.defineSlot",function(t){if(!e&&a&&a.config.companionslot){var n=document.createElement("div"),i=t.detail.arg;if(e="tgx_2x1_"+Date.now(),n.setAttribute("id",e),n.setAttribute("style","display:none;width:0px;height:0px"),void 0!==i.id){var o=document.getElementById(i.id);null!==o&&o.parentNode.insertBefore(n,o)}else document.body.appendChild(n);a.defineSlot({id:e,size:[2,1],companion:!0})}})};var i=n(1),o=!1,a=void 0,r=3e4,s=t.addStyle=function(){var e=".tgx-blank { visibility: hidden; }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},d=t.removeClassById=function(e){var t=a.getAdUnitByAdId(e),n=document.getElementById(t.adUnit.id);n&&(0,i.removeClass)(n,"tgx-blank")},l=t.applyClassById=function(e,t){var n=a.getAdUnitByAdId(e),o=document.getElementById(n.adUnit.id);if(o){var s=t;(0,i.addClass)(o,"tgx-blank"),void 0===t&&(s=r),-1!==s&&setTimeout(function(){return d(e)},s)}},c=t.hideGumGum=function(){var e=document.getElementById("GG_PAG");e&&e.parentElement.remove()},u=(t.unhideGumGum=function(){var e=document.getElementById("GG_PAG");e&&(0,i.removeClass)(e.parentElement,"tgx-blank")},t.unhideOutbrain=function(){Array.from(document.getElementsByClassName("OUTBRAIN")).forEach(function(e){(0,i.removeClass)(e,"tgx-blank")})}),f=t.hideOutbrain=function(e){var t=e,n=!1;Array.from(document.getElementsByClassName("OUTBRAIN")).forEach(function(e){n=!0,(0,i.addClass)(e,"tgx-blank")}),n&&(void 0===e&&(t=r),-1!==t&&setTimeout(function(){return u()},t))},g=t.normalizeAdIdArgs=function(e){var t=[];return Array.isArray(e)?t=e:"string"==typeof e?t.push(e):t=a.state.slots,t},p=t.hideAds=function(e,t){if(o||(s(),o=!0),Array.isArray(e))e.forEach(function(e){l(e,t)});else if("gumgum"===e)c();else if("outbrain"===e)f();else if(void 0!==e)l(e,t);else{var n=a.state.slots;n.forEach(function(e){l(e.adUnit.id,t)}),c(t),f(t)}},h=t.unhideAds=function(e){Array.isArray(e)?e.forEach(function(e){d(e)}):"outbrain"===e?u():void 0!==e?d(e):(Array.from(document.getElementsByClassName("tgx-blank")).forEach(function(e){(0,i.removeClass)(e,"tgx-blank")}),u())},m=t.collapseAds=function(e){var t=function(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)};g(e).forEach(function(e){t("string"==typeof e?e:e.adUnit.id)})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createSlotVisibilityChangedFn=t.attemptRefresh=t.TGX_REFRESH=void 0,t.default=function(e,t){var n=void 0,i=h(e);t.addEventListener(a.EventName.SLOT_VISIBILITY_CHANGED,function(){return i.apply(void 0,arguments)});var r={dispose:function(){i=o.noop,clearInterval(n)}};return n=setInterval(function(){e.state.isCampaign?r.dispose():"visible"===s.default.getDocument().visibilityState&&p(e,t)},l),r};var o=n(1),a=n(2),r=n(0),s=i(r),d=n(4),l=2e4,c=1e4,u=50,f=t.TGX_REFRESH="tgx-refresh",g={desktop:{"728x90":!0,"970x250":!0,"300x250":!0,"300x600":!0},mobile:{"320x50":!0,"300x250":!0},tablet:{"320x50":!0,"300x250":!0}},p=t.attemptRefresh=function(e,t){var n=Date.now(),i=(0,d.getPlatform)(),o=e.state.slots.reduce(function(e,t){return t.tracking[a.EventName.SLOT_VISIBILITY_CHANGED]&&n-t.tracking[a.EventName.IMPRESSION_VIEWABLE]>=c&&g[i][t.tracking.size]&&e.push(t.dfpSlot.setTargeting(f,!0)),e},[]);o.length>0&&t.refresh(o)},h=t.createSlotVisibilityChangedFn=function(e){return function(t){var n=t.slot,i=t.inViewPercentage;e.getAdUnitBySlot(n).tracking[a.EventName.SLOT_VISIBILITY_CHANGED]=i>=u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logMsg=t.createDebugInfo=t.addDebugStyle=void 0,t.default=function(){var e=performance.timing?(performance.timing.fetchStart-performance.timing.navigationStart)/1e3:window.performance.now();window.addEventListener("dfp.beforeInit",function(){if((0,i.isDebugMode)()){var t={navStart_jsExecute:e,navStart_beforeInit:window.performance.now(),responseStart_beforeInit:window.performance.now()};r("Execution metrics "+JSON.stringify(t),e),o()}}),window.addEventListener("dfp.slotAfterDisplay",function(e){(0,i.isDebugMode)()&&a(e.detail.arg)}),window.addEventListener("dfp.logMsg",function(t){if((0,i.isDebugMode)()){var n=t.detail.dfp.config;r(t.detail.arg,void 0!==n?n.logtimeline:void 0,e)}})};var i=n(3),o=t.addDebugStyle=function(){var e=".ads-debug-info { position: absolute; overflowY: auto; overflowX: auto; width: 300; height: 200; zIndex: 99999; background-color: yellow; text-align: left}",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},a=t.createDebugInfo=function(e){var t=e.adUnit.id,n=t+"-debuginfo",i=document.getElementById(n);if(null===i){var o=document.getElementById(t),a='<textarea id="'+n+'" style="height: 20px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: courier; border: 1px solid black; z-index: auto; background-color: rgb(255, 255, 189);">'+e.debugcode.join("\n")+"</textarea>";o.insertAdjacentHTML("beforebegin",a),i=document.getElementById(n)}return i},r=t.logMsg=function(e,t,n){var i=(window.performance.now()-n)/1e3;console.log("dfp.logMsg "+i+": "+e),void 0!==t&&void 0!==console.timeStamp&&console.timeStamp("dfp.logMsg "+i+": "+e)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.truncateZone=t.getGptCmd=void 0;var s=function(){function e(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(){var e=function(){var e=this;this.dfpUtil=c,this.log("Starting up..."),this.config={setTargeting:{},setGlobalTargeting:{},setLocation:"",setUrlTargeting:!1,enableSingleRequest:!1,SRAInitialBatch:!0,collapseEmptyDivs:!1,refreshExisting:!0,disablePublisherConsole:!1,disableInitialLoad:!1,globalVar:"time_dfp",sleepTime:500,oop:!0,gptAsync:!0,refreshoop:!1,optimizeRefresh:!1,dfpId:"8484",env:"prod"},this.state={count:0,rendered:0,slots:[],sleep:0,queue:[],purge_count:0,purging:!1,wewant:'n"eNow',sleepTimeout:null,sleepInterval:null,sleepStart:null,sleepRound:0,enabledService:!1,ver:"2017-07-10T16:43:46.841Z",isCampaign:null,sentiment:null};var t=window[this.config.globalVar];window[this.config.globalVar]=this,Array.isArray(t)&&t.forEach(function(t){return e.push(t)})},t=e.prototype;return t.getGptCmd=y,t.truncateZone=b,t.init=function(e){var t=this;if(this.log("init()"),h.default.trackEvent(p.Namespace.TGX,p.EventName.INIT),(0,u.doesQueryStringContainPII)()||this.loadGPT(),d(this.config,e),this.setConfig(),this.fireEvent("beforeInit",this),this.updateAdsTargeting(this.config),y().push(function(){t.log("1st DFP Call"),h.default.trackEvent(p.Namespace.GPT,p.EventName.CALLED)}),this.config.disableInitialLoad&&this.push(function(){y().push(function(){t.log("disableInitialLoad() is set.. need to .refresh() to display ads now."),window.googletag.pubads().disableInitialLoad()})}),this.config.enableSingleRequest&&this.push(function(){y().push(function(){t.log("enableSingleRequest is set.. in SRA mode"),window.googletag.pubads().enableSingleRequest(),t.log("enableSingleRequest is set all slots defined before 1st .display() will be call and rendered all at once")})}),void 0!==this.config.collapseEmptyDivs){var n=this.config.collapseEmptyDivs||void 0;this.push(function(){y().push(function(){t.log("collapseEmptyDivs is set to: "+t.config.collapseEmptyDivs),window.googletag.pubads().collapseEmptyDivs(n)})})}return y().push(function(){var e=window.googletag.pubads();t.config.optimizeRefresh&&(0,v.default)(t,e),p.gptEvents.forEach(function(n){e.addEventListener(n,function(i){var o=t.getAdUnitBySlot(i.slot);o.tracking[n]=(0,p.recordNow)(),n!==p.EventName.SLOT_RENDER_ENDED||t.state.isCampaign||(t.state.isCampaign=c.isCampaign(e)),i.size&&(o.tracking.size=i.size.join("x")),h.default.trackEvent(p.Namespace.ADS,n,void 0,(0,p.formatSlotData)(n,i,o)),t.fireEvent(n,i,{slotId:o.id})})})}),this.push(function(){y().push(function(){t.log("googletag.pubads().setTargeting().."),Object.keys(t.config.setTargeting).forEach(function(e){var n=t.config.setTargeting[e];"number"==typeof n&&(n=String(n)),window.googletag.pubads().setTargeting(e,n)})})}),this.push(function(){t.fireEvent("afterInit",t)}),this},t.setConfig=function(){var e=this,t={amazon:!0,ix:!0,debugads:!0,onebot:!0,logtimeline:!0,optimizeRefresh:!0,sonobi:!0,resizenative:!0,companionslot:!0,adzone:{key:"zone",debugOnly:!0}};c.getUrlTargeting().Query.forEach(function(n){var i=n.split(":"),o=s(i,2),a=o[0],r=o[1];t[a]&&(0!==r&&"0"!==r&&"false"!==r||(r=!1),!0===t[a]?e.config[a]=r:t[a].debugOnly&&!c.isDebugMode()||(e.config[t[a].key]=r)),"latency"===a&&"0"===r&&d(e.config,{amazon:!1,ix:!1,onebot:!1,sonobi:!1})})},t.push=function(e){var t=this;if(void 0!==e)this.state.sleep<=0&&!this.state.purging?e.call(this):this.state.sleep<=0&&this.state.purging?(this.log("push().. purging queue.. queuing function"),this.state.queue.push(e)):(this.log("push().. in sleep mode.. queuing function"),this.state.queue.push(e));else if(!this.state.purging){this.log("Running Queued calls... purge: "+this.state.purge_count);var n=this.state.queue;this.state.queue=[],this.state.purging=!0;try{n.forEach(function(e){return e.call(t)})}catch(e){this.log("Error trying to wake up running one of the queued function. Purge:"+this.state.purge_count),console.error(e)}this.log("Ending Queue purge: "+this.state.purge_count),this.state.purge_count++,this.state.purging=!1,this.state.queue.length>0&&this.state.sleep<=0&&(this.log("Calling calls queued during purge."),this.push())}},t.sleep=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.sleepTime,i=this.state.sleepRound,o=e?" - MSG: "+e:"";return h.default.trackEvent(p.Namespace.TGX,p.EventName.SLEEP,void 0,{msg:o}),this.state.sleep>0?(this.state.sleep++,this.log("sleep().. cannot sleep.. already sleeping"+o+" - SleepRound:"+i+" - sleeps:"+this.state.sleep),this.state.sleepRound):(this.state.sleep++,this.log("sleep() for "+n+" milliseconds"+o+" - SleepRound:"+i),this.state.sleepTimeout=setTimeout(function(){t.log("sleep() Timeout Over"),t.wakeup("time_dfp - Sleep Timeout",i,!0)},n),this.state.sleepStart=Date.now(),this.state.sleepInterval=setInterval(function(){var e=Date.now();t.log("sleepInterval at: "+(e-t.state.sleepStart)),e-t.state.sleepStart>n&&(t.log("sleep() Interval Over"),t.wakeup("time_dfp - Sleep Timeout",i,!0))},n/5),this.state.sleepRound)},t.wakeup=function(e,t,n){var i=e?" - MSG: "+e:"";if(h.default.trackEvent(p.Namespace.TGX,p.EventName.WAKE,void 0,{msg:i,force:n}),void 0!==t&&t!==this.state.sleepRound)return void this.log("wakeup() "+i+" -- Not in sleep round");this.state.sleep--,this.log("wakeup() "+i+" -- Sleeps left: "+this.state.sleep+" -- "+(n?" - Forced":"")),(this.state.sleep<=0||n)&&(this.state.sleep=0,window.clearTimeout(this.state.sleepTimeout),window.clearInterval(this.state.sleepInterval),this.state.sleepRound++,this.push())},t.loadGPT=function(){if(!window.googletag.pubads){var e=!1!==this.config.gptAsync;this.log("loading GPT in "+(e?"async":"sync")),h.default.trackEvent(p.Namespace.GPT,p.EventName.LOAD,0),(0,u.prependScriptToHead)({async:e,src:"//www.googletagservices.com/tag/js/gpt.js",onload:function(){return h.default.trackEvent(p.Namespace.GPT,p.EventName.LOAD,1)}})}},t.updateAdsTargeting=function(e){var t=this;c.isTestMode(e)&&(this.log("updateAdsTargeting() In Test Mode"),void 0!==this.config.testads&&(this.config.setGlobalTargeting.test=isNaN(this.config.testads)?1:this.config.testads),c.getUrlTargeting().Query.forEach(function(e){if(-1!==e.indexOf("testads")){var n=e.split(":")[1];t.config.setGlobalTargeting.test=isNaN(n)?1:n}}))},t.adUnitPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.zone||this.config.zone;return t=t&&"/"!==t?b(("/"===t[0]?"":"/")+c.sanitize(t,{stripNonAlphaNumeric:!0})):"","/"+this.config.dfpId+"/"+(e.sitename||this.config.sitename)+t},t.getAdSlot=function(e,t){if(void 0===e)return this.state.slots.slice();var n=this.state.slots.findIndex(function(t){return t.id===e}),i=this.state.slots[n];return t&&this.state.slots.splice(n,1),i},t.getAdIdBySlot=function(e){return this.getAdUnitBySlot(e).id},t.getAdUnitByAdId=function(e){return this.state.slots.find(function(t){return t.id===e})},t.getAdUnitBySlot=function(e){return this.state.slots.find(function(t){return t.dfpSlot===e})},t.setTargeting=function(e,t){var n=this;void 0===t?y().push(function(){Object.keys(e).forEach(function(t){n.config.setTargeting[t]=e[t],window.googletag.pubads().setTargeting(t,e[t])})}):(Object.keys(this.config.setGlobalTargeting).forEach(function(t){e.setTargeting(t,n.config.setGlobalTargeting[t])}),void 0!==t.targeting&&Object.keys(t.targeting).forEach(function(n){e.setTargeting(n,t.targeting[n])}))},t.addSlotTargeting=function(e,t,n){Object.keys(t).forEach(function(n){e.setTargeting(n,t[n])});var i=this.getAdUnitBySlot(e),o="\nADDITIONAL TARGETING"+(void 0!==n?"("+n+")":"")+":"+JSON.stringify(t)+"\n ------ \n";i.debugcode.push(o)},t.defineSlot=function(e){var t=this,n=(0,u.clone)(e);void 0!==this.getAdSlot(n.id)&&y().push(function(){var e=t.getAdSlot(n.id,!0);window.googletag.destroySlots([e.dfpSlot])});var i={tracking:{define:(0,p.recordNow)()}};this.fireEvent("defineSlot",n),this.log("defineSlot() called for "+n.id+" - queuing up"),this.push(function(){y().push(function(){i.tracking.defineActual=(0,p.recordNow)();try{var e=t.adUnitPath(n),o=[],a=void 0;t.fireEvent("slotBeforeDefine",n),i.id=n.id,i.adUnit=n;var d=n.size;if(void 0!==n.sizes&&(a=window.googletag.sizeMapping(),n.sizes.forEach(function(e){var t=s(e,2),n=t[0],i=t[1];a.addSize(n,i)}),a=a.build()),n.oop?(i.dfpSlot=window.googletag.defineOutOfPageSlot(e,n.id),o.push("googletag.defineOutOfPageSlot('"+e+"', '"+n.id+"');")):(i.dfpSlot=window.googletag.defineSlot(e,d,n.id),o.push("googletag.defineSlot('"+e+"', "+JSON.stringify(n.size)+", '"+n.id+"');")),void 0!==a&&(i.dfpSlot.defineSizeMapping(a),o.push("slot.defineSizeMapping(<sizemapping>); sizemapping = "+JSON.stringify(n.sizes))),t.setTargeting(i.dfpSlot,n),o.push(t.getSlotTargeting(i.dfpSlot)),n.companion&&(i.dfpSlot.addService(window.googletag.companionAds()),o.push(".addService(googletag.companionAds());"),t.state.enabledService=!1,t.log("setting dfp.state.enabledService to false, as we have a companion ad and the services needs to be enabled again")),i.dfpSlot.addService(window.googletag.pubads()),o.push(".addService(googletag.pubads());"),t.state.slots.push(i),void 0!==n.collapse){if(Array.isArray(n.collapse)){var l;(l=i.dfpSlot).setCollapseEmptyDiv.apply(l,r(n.collapse))}else i.dfpSlot.setCollapseEmptyDiv(n.collapse);o.push(".setCollapseEmptyDiv("+n.collapse+")")}else i.dfpSlot.setCollapseEmptyDiv(),o.push(".setCollapseEmptyDiv();");t.fireEvent("slotAfterDefine",i),i.debugcode=o,t.log("slot defined for - "+n.id),t.config.enableSingleRequest&&!t.config.disableInitialLoad||t.displaySlot(i)}catch(e){console.error("error: defineSlot - ","\n"+i+"\n",e)}})})},t.set=function(e,t){this.config[e]=t},t.display=function(e){var t=this;this.log(".display()"),this.push(function(){y().push(function(){if(t.log(".display() via gpt.push()"),void 0===e&&t.getAdSlot().forEach(function(e){t.displaySlot(e)}),"string"==typeof e){var n=t.getAdSlot(e);t.displaySlot(n)}else Array.isArray(e)&&e.forEach(function(e){var n=t.getAdSlot(e);t.displaySlot(n)})})})},t.displaySlot=function(e){var t=this;this.push(function(){y().push(function(){e.tracking.display=(0,p.recordNow)(),t.log("before displaying slot - "+e.id),t.fireEvent("slotBeforeDisplay",e.dfpSlot),t.log("displaying slot - "+e.id),t.config.disableInitialLoad&&t.log("slot - "+e.id+" - may not be rendered and need to be refresh()'ed as disableInitialLoad is set."),t.state.enabledService||(window.googletag.enableServices(),t.state.enabledService=!0,t.log("Services need to be enabled. - googletag.enableServices();")),t.push(function(){y().push(function(){t.log("gpt .display() - "+e.id),window.googletag.display(e.id),e.debugcode.push("googletag.display('"+e.id+"');"),t.fireEvent("slotAfterDisplay",e)})})})})},t.getSlotTargeting=function(e){var t=this,n=e.getTargetingKeys(e).reduce(function(t,n){return d(t,a({},n,e.getTargeting(n)))},{}),i=Object.keys(this.config.setTargeting).reduce(function(e,n){return d(e,a({},n,t.config.setTargeting[n]))},{});return"\nTargeting ---- \nGLOBAL: "+JSON.stringify(i)+"\nSLOT: "+JSON.stringify(n)+"\n ------ \n"},t.refresh=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.push(function(){y().push(function(){e.fireEvent("refresh",t),e.log("refresh() slots: "+t);var i=null;if(null!==t)try{"string"==typeof t?i=[e.getAdSlot(t).dfpSlot]:Array.isArray(t)&&(i=t.reduce(function(t,n){return"string"==typeof n&&t.push(e.getAdSlot(n).dfpSlot),t},[]))}catch(t){e.log("Error refreshing slots"),console.log(t)}Array.isArray(i)&&i.forEach(function(t){e.addSlotTargeting(t,{ad_refresh:!0})}),e.push(function(){e.push(function(){y().push(function(){e.fireEvent("slotRefresh",i),e.log("dfp refreshing slots"),window.googletag.pubads().refresh(i,{changeCorrelator:n})})})})})})},t.updateCorrelator=function(){var e=this;this.log("updateCorrelator()"),y().push(function(){e.fireEvent("updateCorrelator"),window.googletag.pubads().updateCorrelator()})},t.log=function(e){this.fireEvent("logMsg",e)},t.getEvents=function(){return h.default.events},t.fireEvent=function(e,t,n){var i=d({arg:t,dfp:this},n),o=void 0;"function"==typeof window.CustomEvent?o=new window.CustomEvent("dfp."+e,{detail:i}):(o=document.createEvent("CustomEvent"),o.initCustomEvent("dfp."+e,!0,!0,i)),window.dispatchEvent(o)},new e};var l=n(3),c=o(l),u=n(1),f=n(0),g=i(f),p=n(2),h=i(p),m=n(9),v=i(m),y=t.getGptCmd=function(){return g.default.getWindow().googletag.cmd},w=/\//g,b=t.truncateZone=function(e){for(var t=[],n=0;n>-1;)(n=e.indexOf("/",n))>-1&&(t.push(n),n++);return t.length>3?e.substring(t[0],t[2]+1)+e.substring(t[2]+1).replace(w,"_"):e}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(7),r=i(a),s=n(18),d=i(s),l=n(4),c=i(l),u=n(24),f=i(u),g=n(19),p=i(g),h=n(20),m=i(h),v=n(21),y=i(v),w=n(22),b=i(w),S=n(10),_=i(S),T=n(13),E=i(T),I=n(14),O=i(I),A=n(11),x=i(A),N=n(23),k=i(N),C=n(15),D=i(C),P=n(2),R=i(P),z=n(8),j=i(z);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.default)();return window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.tas=window.tas||{_tam:[]},window.addEventListener("message",D.default,!1),R.default.trackEvent(P.Namespace.TGX,P.EventName.LOAD),document.head.appendChild(o(document.createElement("link"),{href:"//www.googletagservices.com/tag/js/gpt.js",rel:"preload",as:"script"})),window.dfp_tracking=e,window.amznads=(0,d.default)(e,window.amznads),(0,c.default)(e),(0,f.default)(e),(0,p.default)(e),(0,m.default)(e),(0,y.default)(e),(0,b.default)(e),(0,k.default)(e),(0,_.default)(),(0,E.default)(),(0,O.default)(),(0,j.default)(),(0,x.default)(e)},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createSlotBeforeDefineFn=t.beforeInit=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(){var e=d.default.getWindow();e.addEventListener("dfp.beforeInit",l),e.addEventListener("dfp.slotBeforeDefine",c({tile:0}))};var r=n(3),s=n(0),d=i(s),l=t.beforeInit=function(e){var t=d.default.getWindow(),n=e.detail.dfp,i=document.referrer.split("/")[2];void 0!==i&&(n.config.setGlobalTargeting.rhost=i);var o=t.location.pathname.split("/");o=o[o.length-1]?o.slice(1,o.length):o.slice(1,o.length-1),n.config.setGlobalTargeting.path=o,n.config.setGlobalTargeting.domain=t.location.hostname;var s=(0,r.getCookie)("globalTI_SID");s&&(n.config.setGlobalTargeting.ti_id=s),(0,r.getUrlTargeting)().Query.forEach(function(e){var t=e.split(":"),i=a(t,2),o=i[0],r=i[1];"cid"!==o&&"debugads"!==o||(n.config.setGlobalTargeting[o]=isNaN(r)?1:r)})},c=t.createSlotBeforeDefineFn=function(e){return function(t){var n=t.detail.arg;e.tile++,(0,r.unitHasSize)(n,"300x250")&&(0,r.addSize)(n,"fluid");try{n.targeting=o(n.targeting||{},{tile:e.tile,id:n.id}),void 0!==n.targeting.sz?-1!==n.targeting.sz.indexOf(",")&&(n.targeting.sz=n.targeting.sz.split(",")):n.targeting.sz=n.oop?"1x1":(0,r.sizeToArray)(n.size)}catch(e){}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=null,t=void 0,n=0;window.addEventListener("dfp.beforeInit",function(n){var a=n.detail.dfp;a.getOopSlotId=function(){return e},a.resetOOPSlot=function(n,r){void 0!==n&&n!==e?(e=n,t=a,o(t,r,e)):i(a,a.config.refreshoop,e)}}),window.addEventListener("dfp.defineSlot",function(n){var i=n.detail.arg,a=n.detail.dfp;a.config.oop&&null===e&&(e="oop_"+Date.now(),t=a,o(a,i.id,e))}),window.addEventListener("dfp.refresh",function(){t&&t.config.oop&&t.config.refreshoop&&n+1e4<Date.now()&&(n=Date.now(),t.refresh(e))})};var i=t.refreshOop=function(e,t,n){t&&null!==n&&e.refresh(n)},o=t.defineOopSlot=function(e,t,n){var i=document.createElement("div");if(i.setAttribute("id",n),i.setAttribute("style","display:none;width:0px;height:0px"),void 0!==t){var o=document.getElementById(t);null!==o&&o.parentNode.insertBefore(i,o)}else document.body.appendChild(i);e.defineSlot({id:n,oop:!0})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e.data.type){case o.Type.ON_SCROLL:(0,r.default)(e);break;case o.Type.VIDEO:(0,d.default)(e)}};var o=n(5),a=n(16),r=i(a),s=n(17),d=i(s);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScrollHandlerFn=void 0,t.default=function(e){window.addEventListener("scroll",a(e.source,e.data.payload.href),{passive:!0})};var i=n(1),o=n(5),a=t.createScrollHandlerFn=function(e,t){var n=void 0;return function(){n=n||Array.from(document.querySelectorAll('[src="'+t+'"]')).find(function(t){return t.contentWindow===e}),(0,i.getElementInViewPort)(n)&&e.postMessage(JSON.stringify({type:o.Type.ON_SCROLL,payload:{scrollY:window.scrollY}}),"*")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResizeHandlerFn=t.createScrollHandlerFn=t.getElem=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(e){var t=e.data.payload||{},n=l(e.source,t);if(t.isUpdate)return void n(void 0,t);var i=s(e.source,t);window.addEventListener("scroll",(0,o.throttle)(i,300),{passive:!0}),window.time_dfp.config.resizenative?(window.addEventListener("resize",(0,o.throttle)(n,80),{passive:!0}),n(void 0,t)):r(e.source,t).style.width="100%",i()};var o=n(1),a=n(5),r=t.getElem=function(e,t){var n=t.id;return Array.from((document.getElementById(n)||document).getElementsByTagName("iframe")).find(function(t){return t.contentWindow===e})},s=t.createScrollHandlerFn=function(e,t){var n=void 0;return function(){n=n||r(e,t),e.postMessage(JSON.stringify({type:a.Type.ON_SCROLL,payload:(0,o.getPixelsInViewPort)(n)}),"*")}},d=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(t===window||i>n)){if("hidden"===window.getComputedStyle(t,null).overflow)return void(t.style.overflow="visible");e(t.parentElement,n,++i)}},l=t.createResizeHandlerFn=function(e,t){var n=void 0;return function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=s.addedHeight,c=void 0===l?t.addedHeight:l,u=s.ratio,f=void 0===u?t.ratio:u,g=s.isUpdate;n=n||r(e,t);var p=n.parentElement;if(g&&c===t.addedHeight){var h=n.getBoundingClientRect(),m=Math.floor(c+f*h.width)+"px";return p.style.height=m,void i(n.style,{height:m,marginLeft:window.innerWidth<728?"-"+p.getBoundingClientRect().left+"px":"initial"})}var v=p.parentElement,y=window.innerWidth<728?window.innerWidth:v.getBoundingClientRect().width||v.parentElement.getBoundingClientRect().width;n.style.width=y+"px",e.postMessage(JSON.stringify({type:a.Type.UPDATE,width:y}),"*"),Number.parseInt(v.style.zIndex,10)||(v.style.zIndex=1),d(v)}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createOnRefresh=t.createOnInit=t.addAmazon=void 0,t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.onInit.push(c(t)),e.onRefresh.push(u(t)),t};var o=n(1),a=n(0),r=i(a),s=n(2),d=i(s),l=t.addAmazon=function(){(0,o.appendScriptToHead)({async:!0,src:"//c.amazon-adsystem.com/aax2/amzn_ads.js"})},c=t.createOnInit=function(e){return function(t){var n=Date.now(),i=void 0,o=!1;!1!==t.config.amazon&&(i=t.sleep("amazon"),e.asyncParams={id:"3042",callbackFn:function(){d.default.trackEvent("amazon",s.EventName.LOAD,1);try{e.setTargetingForGPTAsync("amznslots")}catch(e){}t.log("Amazon Loaded in "+(Date.now()-n)+" milliseconds"),o?t.log("Amazon Already woke up dfp, bypassing wakeup()"):t.wakeup("amazon",i),o=!0},timeout:2e3},d.default.trackEvent("amazon",s.EventName.LOAD,0),l())}},u=t.createOnRefresh=function(e){return function(t){if(!1!==t.config.amazon){var n=t.sleep("amazon"),i=r.default.getWindow().googletag;i.cmd.push(function(){i.pubads().clearTargeting("amznslots"),e.getAdsCallback("3042",function(){e.setTargetingForGPTAsync("amznslots"),t.wakeup("amazon",n)})})}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.onInit=void 0,t.default=function(e){e.onInit.push(s)};var o=n(1),a=n(2),r=i(a),s=t.onInit=function(e){!1!==e.config.evidon&&(r.default.trackEvent("evidon",a.EventName.LOAD,0),(0,o.prependScriptToHead)({async:!0,src:"//tiads.timeinc.net/ads/evidon.js",onload:function(){r.default.trackEvent("evidon",a.EventName.LOAD,1)}}))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createOnInit=t.applyIndexExchange=t.getSlotID=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t={session_complete:!1,sleep_count:0},n=function(e,n){!1!==e.config.ix&&f(e,n,t)},i=function(e){if(!1!==e.config.ix){var n=e.getAdSlot().map(function(e){return e.dfpSlot});f(e,n,t)}};e.onInit.push(g(t)),e.onRefresh.push(i),e.displaySlot.push(n)};var a=n(1),r=n(0),s=i(r),d=n(2),l=i(d),c={rsm:"ls-realsimple.js",ckl:"ls-cookinglight.js",peo:"ls-people.js",col:"htw-time.js",enw:"ls-ew.js",fw:"ls-foodandwine.js",fort:"ls-fortune.js",golf:"ls-golf.js",hlt:"ls-health.js",ins:"ls-instyle.js",mre:"ls-myrecipes.js",pesp:"ls-peopleenespanol.js",si:"ls-si.js",sol:"ls-southernliving.js",sun:"ls-sunset.js",thedrive:"ls-thedrive.js",theoutfit:"ls-theoutfit.js",thesnug:"ls-thesnug.js",tim:"ls-time.js",tl:"ls-travelandleisure.js",mhi:"ls-myhomeideas.js",ess:"ls-essence.js",dep:"ls-departures.js",xoj:"ls-xojane.js",tfk:"ls-timeforkids.js",fansided:"ls-fansided.js",fscom:"ls-foxsports.js",extracrispy:"ls-extracrispy.js"},u=t.getSlotID=function(e,t){return"function"==typeof t.getSlotId?e.getAdIdBySlot(t):Array.isArray(t)?t.reduce(function(e,t){return"function"==typeof t.getSlotId?""+e+t.getSlotId().o+" ":e},""):""},f=t.applyIndexExchange=function(e,t,n){if(!1!==e.config.ix){var i=s.default.getWindow();if("object"===o(i.headertag)){var a=2,r=Date.now(),d=u(e,t);e.log("Index Exchange called for: "+d);var l=void 0;n.session_complete||n.sleep_count<a?(l=e.sleep("Index Exchange"),n.sleep_count++,n.session_complete||e.log("Index Exchange sleep "+n.sleep_count+"/"+a)):e.log("Slot: "+d+" - Index Exchange Not Sleeping as we have not retrieved successful demand yet and executed "+n.sleep_count+"/"+a+" sleeps"),n.session_complete=!1,i.headertag.retrieve_demand(function(){e.log("Index Exchange Retrieve Demand in "+(Date.now()-r)+" milliseconds"),e.log("Index Exchange Setting Targeting. - "+d),i.headertag.set_slot_targeting(t),n.session_complete=!0,n.sleep_count=0,void 0!==l&&e.wakeup("Index Exchange",l)},{})}}},g=t.createOnInit=function(e){return function(t){if(!1!==t.config.indexexchange&&!1!==t.config.ix){var n=Date.now(),i=s.default.getWindow(),o=t.sleep("Index Exchange");if(!i.headertag_init_once){e.sleep_count++,i.headertag_init_once=!0;try{l.default.trackEvent("ix",d.EventName.LOAD,0);var r=c[t.config.sitename];r?(0,a.appendScriptToHead)({async:!0,src:("https:"===i.document.location.protocol?"https://js-sec":"http://js")+".indexww.com/ht/"+r,onload:function(){l.default.trackEvent("ix",d.EventName.LOAD,1),t.log("Index Exchange loaded in "+(Date.now()-n)+" milliseconds");var a=void 0;i.headertag.envoke_on_or_after_session_end(function(){t.log("Index Exchange Retrieve Demand in "+(Date.now()-a)+" milliseconds"),e.session_complete=!0,t.wakeup("Index Exchange",o)}),a=Date.now(),i.headertag.retrieve_demand()}}):t.log("Index Exchange loading error.")}catch(e){t.log("Index Exchange loading error."),console.log(e)}}}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.onInit=t.triggerOneBotRequest=t.createOnLoad=t.reduceTaxons=t.reduceConcepts=t.getCleanUrl=t.getSentiment=void 0,t.default=function(e){e.onInit.push(m)};var o=n(3),a=n(0),r=i(a),s=n(2),d=i(s),l=t.getSentiment=function(e){return e>=.75?"Very Positive":e>=.5?"Positive":e>=0?"Neutral":e>=-.5?"Negative":"Very Negative"},c=t.getCleanUrl=function(e){if((0,o.isTestMode)(e.config))return"http://www.ew.com/article/2015/07/23/hunger-games-mockingjay-part-2-trailer";var t=r.default.getDocument().URL;-1!==t.indexOf("test-tiads.timeinc.net")?t=t.replace("test-tiads.timeinc.net/dev/test/alchemy-contextual/ads/test/",""):-1!==t.indexOf("tiads.timeinc.net")&&(t=t.replace("tiads.timeinc.net/ads/test/",""));var n=t.indexOf("?");return n>0?t.substring(0,n):encodeURIComponent(t)},u=/\s|:|\?/g,f=t.reduceConcepts=function(e,t){return t.relevance>=.5&&e.push(t.name.replace(u,"")),e},g=t.reduceTaxons=function(e,t){return t.score>=.5&&t.path.split("/").forEach(function(t){var n=t.replace(u,"");""!==t&&-1===e.indexOf(n)&&e.push(n)}),e},p=t.createOnLoad=function(e,t,n,i,o){return function(){d.default.trackEvent("onebot",s.EventName.LOAD,1);var a=o||(""!==this.responseText?JSON.parse(this.responseText):{message:"empty"});e.log("OneBot Response in "+(Date.now()-t)+" milliseconds"),a.trending&&(e.config.setTargeting.trend="yes"),"not found"!==a.message&&"empty"!==a.message?(e.log("OneBot Message Results"),e.log(JSON.stringify(a)),a.socialTags&&a.socialTags.length>0&&(e.config.setTargeting.Social_Tags=a.socialTags),a.taxons&&a.taxons.length>0&&(e.config.setTargeting.Taxons=a.taxons.reduce(g,[])),a.concepts&&a.concepts.length>0&&(e.config.setTargeting.Concepts=a.concepts.reduce(f,[])),a.sentiment&&a.sentiment.length>0&&(e.state.sentiment=e.config.setTargeting.Sentiment=l(a.sentiment[0]))):(e.log("OneBot Message Results - not found or empty"),e.log(JSON.stringify(a))),i.wokenup||(e.wakeup("One Bot",n),i.wokenup=!0)}},h=t.triggerOneBotRequest=function(e,t){var n=r.default.getWindow(),i=Date.now(),o=t.sleep("One Bot");if(n.TIA&&n.TIA.targetData)return p(t,i,o,{wokenup:!1},n.TIA.targetData)();var a=new n.XMLHttpRequest;if("withCredentials"in a){var l="https://ape-asset-tag.timeinc.com/v0/article?url="+e;t.log("Checking trending+Alchemy via OneBot for - "+e),d.default.trackEvent("onebot",s.EventName.LOAD,0),a.open("GET",l,!0),a.onload=p(t,i,o,{wokenup:!1}),a.onerror=function(){return console.error("OneBot Trending+Alchemy Request Error")},a.send()}else console.error("OneBot Treding+Alchemy XMLHttpRequest Initialization Error")},m=t.onInit=function(e){var t=(0,o.getRootDomain)(),n=e.config.onebot;if(void 0===n||n&&("allow"!==n.allow_deny_mode||-1===n.enabled_root_domains.indexOf(t)))try{var i=c(e);h(i,e)}catch(e){console.error("Onebot catch error\n",e)}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.afterSlotDefined=t.onInit=void 0,t.default=function(e){e.onInit.push(l),e.afterdefineSlot.push(c)};var o=n(1),a=n(0),r=i(a),s=n(2),d=i(s),l=t.onInit=function(e){!0===e.config.realvu&&(d.default.trackEvent("realvu",s.EventName.LOAD,0),(0,o.prependScriptToHead)({async:!0,src:"prod"===e.config.env?"//ac.realvu.net/realvu_boost.js":"//ac-stage.realvu.net/realvu_boost.js",onload:function(){d.default.trackEvent("realvu",s.EventName.LOAD,1)}}))},c=t.afterSlotDefined=function(e,t){if(!0===e.config.realvu)try{var n=r.default.getWindow().top1.realvu_boost.addUnitById({partner_id:"E1OU",unit_id:t.adUnit.id,size:t.adUnit.size});t.dfpSlot.setTargeting("realvu",n)}catch(t){e.log("Problem with Realvu dfp key value pair setting up or not loaded")}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getSizesBasedOnPlatform=t.retrieveBids=t.getSlots=t.unique_callback=t.sonobi_callback=t.applySonobi=t.applyBidToSlot=void 0,t.default=function(e){var t=v((0,a.getPlatform)()),n={},i={bidState:0},o=function(e){!1!==e.config.sonobi&&m(e,t,n,i)},r=0,s=function(e){e.config.disableInitialLoad&&!r++||o(e)},d=function(e,t){!1!==e.config.sonobi&&f(e,[t],n)};e.onInit.push(o),e.onRefresh.push(s),e.displaySlot.push(d)};var o=n(3),a=n(4),r=n(1),s=n(0),d=i(s),l=n(2),c=i(l),u=t.applyBidToSlot=function(e,t,n){var i=e.getAdIdBySlot(n),a=e.getAdUnitByAdId(i),r=(0,o.sizeToArray)(a.adUnit.size),s=Array.isArray(r)?r.find(function(e){return void 0!==t[e]}):r;void 0!==t[s]&&(["sbi_size","sbi_apoc","sbi_aid","sbi_mouse","sbi_dozer"].map(function(e){return n.clearTargeting(e)}),e.log("SONOBI - applying bid to: "+i),e.addSlotTargeting(n,t[s],"sonobi"),delete t[s])},f=t.applySonobi=function(e,t,n){Array.isArray(t)?t.forEach(function(t){return u(e,n,t)}):u(e,n,t)},g=t.sonobi_callback=function(e,t,n,i,o){void 0!==n.sbi_dc&&0===o.bidState&&(e.log("SONOBI - setting global DFP targeting"),e.setTargeting({sbi_dc:n.sbi_dc}),o.bidState=1),Object.keys(n.slots).forEach(function(e){var o=+e.split("|")[1];i[t[o]]=n.slots[e]}),f(e,e.getAdSlot().map(function(e){return e.dfpSlot}),i)},p=t.unique_callback=function(e,t,n,i,a,r){var s="cb"+Math.ceil(1e4*Math.random());return d.default.getWindow()[s]=function(s){e.log("Sonobi Retreived Demand in "+(Date.now()-n)+" milliseconds"),(0,o.isTestMode)(e.config)&&Object.keys(s.slots).forEach(function(e){s.slots[e]={sbi_size:"300x250",sbi_apoc:"premium",sbi_aid:"123.45.6789012",sbi_mouse:4.2}}),g(e,t,s,a,r),e.wakeup("Sonobi",i)},s},h=t.getSlots=function(e,t){var n=e.adUnitPath();return t.reduce(function(e,t,i){return e[n+"|"+i]=t,e},{})},m=t.retrieveBids=function(e,t,n,i){var a=Date.now(),s=h(e,t),d=e.sleep("Sonobi"),u=p(e,t,a,d,n,i),f=(0,o.getCookie)("uci");c.default.trackEvent("sonobi",l.EventName.LOAD,0),(0,r.appendScriptToHead)({async:!0,src:"//apex.go.sonobi.com/trinity.js?key_maker="+JSON.stringify(s)+"&cv="+u+(f?"&hfa="+f:""),onload:function(){c.default.trackEvent("sonobi",l.EventName.LOAD,1)}})},v=t.getSizesBasedOnPlatform=function(e){switch(e){case"mobile":return["300x250","300x50","320x50"];case"tablet":return["300x250","300x50","728x90"];default:return["300x250","728x90","970x250"]}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createInit=t.addSlotTargeting=void 0,t.default=function(e){e.onInit.push(d({status:!1}))};var o=n(0),a=i(o),r=function(){var e=a.default.getWindow().Ti;return e&&e.udo_metadata},s=t.addSlotTargeting=function(e,t){var n=r();n&&Object.keys(e).forEach(function(i){n[i]&&(t.config.setGlobalTargeting[i]=n[e[i]])})},d=t.createInit=function(e){return function(t){if(void 0!==r()){var n={aid:"content_id",ch:"site_section1",pid:"content_package_id",sch:"site_section2",ptype:"pi_page_type",ctype:"template_type"};e.status=!0,t.config.setTargeting=t.config.setTargeting||{},t.config.setGlobalTargeting=t.config.setGlobalTargeting||{},s(n,t)}}}},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),a=i(o),r=n(12),s=i(r),d=n(28),l=i(d),c=n(29),u=i(c),f=n(7),g=i(f);(0,a.default)();var p=window.dfp_tracking=(0,g.default)();(0,l.default)(p),window.TiiRefreshComScoreTag=(0,u.default)(p),t.default=(0,s.default)(p),e.exports=t.default},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={bk_enabled_root_domains:"content.timeinc.net,people.com,peoplestylewatch.com,celebritybabies.com,peoplepets.com,realsimple.com,ew.com,peopleenespanol.com,essence.com,instyle.com,time.com,timeforkids.com,sportsillustrated.cnn.com,si.com,sikids.com,golf.com,fannation.com,allyou.com,coastalliving.com,cookinglight.com,myrecipes.com,southernliving.com,thisoldhouse.com,myhomeideas.com,health.com,foodandwine.com,travelandleisure.com,departures.com,fortune.com,money.com",bk_disabled_root_domains:"eskyguide.com,executivetravelmagazine.com,sunset.com",bk_enabled_sub_domains:"westphoria.sunset.com",bk_id:"13731",bk_pixel_limit:"6",bk_keys:"aid, ch, ctype, path, oid, ptype, sch, rhost"},n=function(e){if(void 0===e.config.bk||!1!==e.config.bk){var n={};n.zone="",n.bkFireBeacon=function(){var n;""===document.referrer?window.bk_addPageCtx("ref","n"):window.bk_addPageCtx("ref",document.referrer.toString().substring(0,250));for(n in e.config.setGlobalTargeting)t.bk_keys.indexOf(n)>=0&&void 0!==e.config.setGlobalTargeting[n]&&window.bk_addPageCtx(n,e.config.setGlobalTargeting[n]);for(n in e.config.setTargeting)t.bk_keys.indexOf(n)>=0&&void 0!==e.config.setTargeting[n]&&window.bk_addPageCtx(n,e.config.setTargeting[n]);if(void 0!==e.config.bk&&void 0!==e.config.bk.params)for(n in e.config.bk.params)e.config.bk.params.hasOwnProperty(n)&&window.bk_addPageCtx(n,void 0!==e.config.bk.params[n]?e.config.bk.params[n]:"");if(void 0!==window.s_time){var i=window.bk_addPageCtx,o=window.s_time;i("channel",void 0!==o.channel?o.channel:""),i("p16",void 0!==o.prop16?o.prop16:""),i("p11",void 0!==o.prop11?o.prop11:""),i("e23",void 0!==o.eVar23?o.eVar23:""),i("p12",void 0!==o.prop12?o.prop12:""),i("p15",void 0!==o.prop15?o.prop15:""),i("p20",void 0!==o.prop20?o.prop20:""),i("p5",void 0!==o.prop5?o.prop5:""),i("p7",void 0!==o.prop7?o.prop7:""),i("e30",void 0!==o.eVar30?o.eVar30:""),i("e31",void 0!==o.eVar31?o.eVar31:""),i("e32",void 0!==o.eVar32?o.eVar32:""),i("e33",void 0!==o.eVar33?o.eVar33:""),i("e34",void 0!==o.eVar34?o.eVar34:""),i("e38",void 0!==o.eVar38?o.eVar38:""),i("events",void 0!==o.events?o.events:""),i("pgname",void 0!==o.pageName?o.pageName:""),i("e6",void 0!==o.eVar6?o.eVar6:""),i("campaign",void 0!==o.campaign?o.campaign:""),i("s_acct",void 0!==window.s_account?window.s_account:""),i("p3",void 0!==o.prop3?o.prop3:""),i("device",window.navigator.userAgent)}window.bk_doJSTag(t.bk_id,t.bk_pixel_limit)},n.enabled=0,function(e,t,i){function o(){s||(s=!0,n.enabled=1,n.bkFireBeacon())}var a,r,s,d=e.createElement(t),l=e.getElementsByTagName(t)[0];a=r=s=!1,d.async=!0,d.src="//tiads.timeinc.net/ads/tii_bk-coretag.js",l.parentNode.insertBefore(d,l);var c=e.createElement(t),u=e.getElementsByTagName(t)[0];c.async=!0,c.src="//tiads.timeinc.net/ads/subsbk.js",u.parentNode.insertBefore(c,u),c.onload=function(){r=!0,a===r&&o()},d.onload=function(){(a=!0)===r&&setTimeout(o,10)}}(document,"script")}};e.onInit.push(n)},i(n(3)),e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.onRefresh=t.onInit=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){return e.onInit.push(d),l};var a=n(0),r=i(a),s=n(1),d=t.onInit=function(e){!1!==e.config.comscore&&(0,s.prependScriptToHead)({async:!0,src:"//"+("https:"===r.default.getDocument().location.protocol?"s":"")+"b.scorecardresearch.com/beacon.js?c1=2&c2=6035728"})},l=t.onRefresh=function(){if("object"===o(r.default.getWindow().COMSCORE)){var e=1===arguments.length?arguments.length<=0?void 0:arguments[0]:document.location;r.default.getWindow().COMSCORE.beacon({c1:2,c2:6035728,c4:e})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){function e(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.src="//www.googletagservices.com/tag/js/gpt.js",t.parentNode.insertBefore(e,t)}function t(){"object"===i(window.COMSCORE)&&(window.url=1===arguments.length?arguments[0]:document.location,window.COMSCORE.beacon({c1:2,c2:6035728,c4:window.url}))}function n(){this.params={},this.bkparams=[],this.pageparams=[],this.slotparams=[],this.refreshSlot=null,this.istSlot=null,this.istCmSlot=null,this.parentDiv=null,this.zone="",this.slotQueue=[],this.renderingMode=null,this.processMode=null,this.disableinitMode=null,this.singlerequestMode=null,this.slots=[],this.slotkeys=[],this.oopslots=[]}function a(e,t){var n=function(n){var i,o,a=n.detail.arg.slot.getSlotId().getDomId(),r=n.detail.arg.size;if(a&&(i=document.getElementById(a)),i&&t.length>0)for(o=0;o<t.length;o++)i.parentNode.id==t[o]&&e(t[o],r)};window.addEventListener("dfp.slotRenderEnded",n)}function r(e){this.ad=e,this._getScript=function(){}}window.time_dfp=window.time_dfp||[],(0,o.doesQueryStringContainPII)()||e(),window.TiiAdConfig=function(e){var t,n=function(){};window.time_dfp.push(function(){window.time_dfp.log("Running TGX Compability mode")}),this.originalSitename=e,this.popups=!0,this.useBehaviorTracking=!1,this.setBehaviorTracking=n,this.useRevSciTracking=!1,this.useTacodaTracking=!1,this.setTacodaTracking=n,this.useQuantcastTracking=!1,this.setQuantcastTracking=n,this.disableInitLoad=!1,this.setdisableInitLoad=function(e){this.disableInitLoad=e},this.singleRequestMode=!1,this.setsingleRequestMode=function(e){this.singleRequestMode=e},this.useDequeueAds=!1,this.setDequeueAds=n,this.convertHyphens=!1,this.stripNonAlphaNumeric=!1,this.setConvertHyphens=n,this.setStripNonAlphaNumeric=n,this.lazyLoad=void 0,this.lazyRange=200,this.setLazyLoad=n,this.setLazyRange=n,this.setSitename=function(e){this.originalSitename=e,this.sitename=this.filterSitename(e)},this.setCmSitename=function(e){this.cmSitename=e.replace(/[0-9]/g,"")},this.filterSitename=function(e){var t=e.search("_mob|_tablet"),n=e.search("cm.");return-1!==t&&(e=e.replace(/_mob.*|_tablet/i,"")),e=-1!==n?e.replace(/[0-9]/g,""):e.replace(/[^a-z]/g,"")},this.cmSitename=function(e){this.sitename=e},t=this.filterSitename(e),this.sitename=t,this.cmSitename=t,this.setPopups=function(e){this.popups=e},this.setRevSciTracking=function(e){this.useRevSciTracking=e}},window.TiiAdFactory=function(){var e,t=arguments[0],n=function(){},o=this;this.tgx_div_mappings={},this.getParentDiv=function(e){for(var t in this.tgx_div_mappings)if(this.tgx_div_mappings.hasOwnProperty(t)&&this.tgx_div_mappings[t]===e)return t;return!1},this.setChannel=function(){},this.setChannelPage=function(){},"string"==typeof t?(this.sitename=t,this.cmSitename=t,this.lazyRange=200):"object"===(void 0===t?"undefined":i(t))&&(this.config=t,this.sitename=t.sitename,this.cmSitename=t.cmSitename,this.lazyRange=t.lazyRange?t.lazyRange:200),this.oopSlotFired=!1,this.oopSlotID=!1,this.cmOopSlotFired=!1,this.cmOopSlotID=!1,this.cmOopSlotSet=!1,this.oopSlotSet=!1,this.adServer=null,this.randomNumber=n,this.tileCounter=1,this.params={},this.zone=2===arguments.length?arguments[1]:"",this.dcopt=!1,this.behaviorTracked=!1,this.lazyLoad=void 0,this.createAd=function(){var e,t,n,i;2===arguments.length?(e=arguments[0],t=arguments[1]):(e=arguments[0],t=arguments[1],n=arguments[2]),i=new window.TiiAd(this,e,t,this.tileCounter),null!==n&&void 0!==n&&i.setZone(n);for(var o in this.params)i.setParam(o,this.params[o]);return this.tileCounter++,i},this.refreshAds=function(e,t,n){var i,o=[];if(void 0===t&&(t=!0),void 0===n&&(n=!0),"string"==typeof e)o=this.tgx_div_mappings[e];else if(void 0===e)o=void 0;else for(i=0;e.length>i;i++)void 0!==this.tgx_div_mappings[e[i]]&&o.push(this.tgx_div_mappings[e[i]]);n&&(this.cmOopSlotFired||!1===this.cmOopSlotID||(o.push(this.cmOopSlotID),this.cmOopSlotFired=!0),this.oopSlotFired||!1===this.oopSlotID||(o.push(this.oopSlotID),this.oopSlotFired=!0)),window.time_dfp.push(function(){window.time_dfp.refresh(o,t)})},this.refreshBatchAds=n,this.clearRefreshBatchAds=function(e){window.time_dfp.push(function(){window.time_dfp.updateCorrelator()}),this.refreshAds(e,!1,!0)},this.clearRefreshAds=this.clearRefreshBatchAds,this.resetOOP=function(){this.cmOopSlotFired=!1,this.oopSlotFired=!1,this.cmOopSlotSet=!1,this.oopSlotSet=!1},this.loadOop=function(e,t){var n,i={};i={oop:!0},void 0!==t&&(i.targeting=t.targeting,i.sitename=t.sitename,i.zone=t.zone),void 0!==i.sitename&&i.sitename.indexOf("cm.")>-1&&!1!==this.cmOopSlotSet||(void 0!==i.sitename&&-1!==i.sitename.indexOf("cm.")||!1===this.oopSlotSet)&&(n=this.sitename+"_"+this.tileCounter,this.tileCounter++,this.tgx_div(e,n),i.id=n,void 0!==i.sitename&&i.sitename.indexOf("cm.")>-1?(this.cmOopSlotSet=!0,this.cmOopSlotID=n,!0!==this.config.disableInitLoad&&(this.cmOopSlotFired=!0)):(this.oopSlotSet=!0,this.oopSlotID=n,!0!==this.config.disableInitLoad&&(this.oopSlotFired=!0)),window.time_dfp.push(function(){window.time_dfp.defineSlot(i)}))},this.getAd=function(){var e,t,n,i,o;return 1===arguments.length&&"string"==typeof arguments[0]&&arguments[0].indexOf("x")>0&&(o=arguments[0].split("x"),i=this.createAd(o[0],o[1])),2===arguments.length?(e=arguments[0],t=arguments[1],i=this.createAd(e,t)):arguments.length>2&&(e=arguments[0],t=arguments[1],n=arguments[2],i=this.createAd(e,t,n)),!1===this.dcopt&&(i.setParam("oop","yes"),this.dcopt=!0),i},this.getCmAd=function(e,t,n,i){var o=this.createAd(e,t);return o.setParam("cmpos",n),o.setParam("cmtyp",i),o.sitename=this.cmSitename,o},this.getMultiCmAd=function(e,t,n){var i=e[0].split("x")[0],o=e[0].split("x")[1],a=this.getCmAd(i,o,t,n),r=e.join(",");return a.setParam("sz",r),a},this.getMultiAd=function(e){var t=e[0].split("x")[0],n=e[0].split("x")[1],i=this.getAd(t,n),o=e.join(",");return i.setParam("sz",o),i},this.getTransitionalAd=n,this.setArticleId=function(e){this.setParam("aid",e)},this.setChannel=function(e){this.setParam("ch",e)},this.setChannelPage=function(){this.setParam("ptype","channel")},this.setContentPage=function(){this.setParam("ptype","content")},this.setContentType=function(e){this.setParam("ctype",e)},this.setPackageId=function(e){this.setParam("pid",e)},this.clearParam=function(e){if(e){var t=e;delete this.params[t]}else for(var n in this.params)delete this.params[n]},this.setSubchannel=function(e){this.setParam("sch",e)},this.setZone=function(e){var t=this;this.zone=e,window.time_dfp.push(function(){window.time_dfp.config.zone=t.zone})},this.slotRenderEnded=a,this.setLazyLoad=n,this.updateCorrelator=function(){window.time_dfp.push(function(){window.time_dfp.updateCorrelator()})},this.setLazyRange=n,this.setParam=function(e,t){"dcopt"===e&&(e="oop",t="yes"),"slotname"!==e&&void 0!==e&&void 0!==t&&("object"===(void 0===t?"undefined":i(t))?(this.params[e]=t,window.time_dfp.push(function(){window.time_dfp.config.setGlobalTargeting[e]=t})):""!==t.toString()&&(this.params[e]=t,window.time_dfp.push(function(){window.time_dfp.config.setGlobalTargeting[e]=t})))},this.tgx_div=function(e,t){var n;n=document.createElement("div"),"string"==typeof e&&(e=document.getElementById(e)),!1!==e&&void 0!==e||(window.time_dfp.push(function(){window.time_dfp.log("TGX Comaptibilty - Could not determine parent for slot - "+t+" - appending to BODY")}),e=document.body),n.setAttribute("id",t),e.appendChild(n)},e={setTargeting:{},setGlobalTargeting:{},enableSingleRequest:this.config.singleRequestMode,disableInitialLoad:this.config.disableInitLoad,collapseEmptyDivs:!0,sitename:this.sitename,comscore:!1,evidon:!1,oop:!1,zone:this.zone,gptAsync:!1},void 0!==window.TGX_SITE_CONFIG&&!1===window.TGX_SITE_CONFIG.comscore||(e.comscore=!0),void 0!==window.TGX_SITE_CONFIG&&!1===window.TGX_SITE_CONFIG.evidon||(e.evidon=!0),void 0!==window.TGX_SITE_CONFIG&&!0===window.TGX_SITE_CONFIG.realvu&&(e.realvu=!0),void 0!==window.TGX_SITE_CONFIG&&void 0!==window.TGX_SITE_CONFIG.VR_CONFIG&&void 0!==window.TGX_SITE_CONFIG.VR_CONFIG.enabled&&window.TGX_SITE_CONFIG.VR_CONFIG.enabled&&(e.vr={enable:!0},void 0!==window.TGX_SITE_CONFIG.VR_CONFIG.id&&(e.vr.id=window.TGX_SITE_CONFIG.VR_CONFIG.id),void 0!==window.TGX_SITE_CONFIG.VR_CONFIG.automate&&window.TGX_SITE_CONFIG.VR_CONFIG.automate&&(e.vr.automate=!0)),void 0!==window.TGX_SITE_CONFIG&&!1===window.TGX_SITE_CONFIG.bluekai||(e.bk=!0),void 0!==window.TGX_SITE_CONFIG&&!0===window.TGX_SITE_CONFIG.resizenative&&(e.resizenative=!0),window.time_dfp.push(function(){window.time_dfp.init(e)}),this.slotAfterDefine=function(e){var t=e.detail.arg,n=t.id,i=this.getParentDiv(n);!1!==i&&(window.tgxDo.slots[i]=t.dfpSlot)},window.addEventListener("dfp.slotAfterDefine",function(e){o.slotAfterDefine(e)})},window.TiiAd=function(e,t,n,o){var a=function(){},r=this;this.factory=e,this.tileNumber=o,this.width=t,this.height=n,this.params={},this.setParam=function(e,t){"dcopt"===e&&(e="oop",t="yes"),"slotname"!==e&&void 0!==e&&void 0!==t&&("object"===(void 0===t?"undefined":i(t))?this.params[e]=t:""!==t.toString()&&(this.params[e]=t))},this.setMagicNumber=a,this.setPosition=function(e){this.setParam("pos",e)},this.setZone=function(e){this.zone=e},this.write=function(e,t){var n,i={},o=this.sitename+"_"+this.tileNumber,a=document.getElementsByTagName("script");void 0===e?(n=a[a.length-1].parentNode,r.factory.tgx_div_mappings[r.factory.tgx_div_mappings.length]=o,window.time_dfp.push(function(){window.time_dfp.log("TGX Compatibilty -- No Parent DIV ID Supplied --\x3e "+r.factory.tgx_div_mappings[e])})):(window.tgxDo.slots[e]=o,n=document.getElementById(e),r.factory.tgx_div_mappings[e]=o,window.time_dfp.push(function(){window.time_dfp.log("TGX Compatibilty -- Mapping DIV - "+e+" --\x3e "+r.factory.tgx_div_mappings[e])})),r.factory.tgx_div(n,r.factory.tgx_div_mappings[e]),i={id:r.factory.tgx_div_mappings[e],size:this.getSize(),targeting:this.params,sitename:r.config.filterSitename(this.sitename),zone:this.zone},void 0!==t&&(i.companion=!0),"yes"===this.params.oop&&r.factory.loadOop(e,i),window.time_dfp.push(function(){window.time_dfp.defineSlot(i)})},this.updateCorrelator=this.factory.updateCorrelator,this._formatParams=a,this._getAdParams=a,this._getAdTag=a,this._getAdUrl=a,this._getImageUrl=a,this._getClickUrl=a,this._getDebugHtml=a,this._getSecureAdTag=a,this._cleanValue=a,this.randomNumber=e.randomNumber,this.adServer=e.adServer,this.tileNumber=e.tileCounter,this.zone=e.zone,this.sitename=e.sitename,this.config=e.config,this.getSize=function(){var e,t,n,i,o=[];if(void 0===this.params.sz)return void 0!==this.width&&void 0!==this.height&&[+this.width,+this.height];if(e=this.params.sz.split(","),1===e.length)o=e[0].split("x"),o[0]=+o[0],o[1]=+o[1];else for(n=0,i=e.length;n<i;n++)t=e[n].split("x"),t[0]=+t[0],t[1]=+t[1],o.push(t);return o}},window.TiiRefreshComScoreTag=t,window.tgxDo=new n;var s=function(){var e,t=function(e){return function(){var t=e;return function(){window.time_dfp.push(function(){window.time_dfp.log("Running a stubbed TGX function consider replacing: "+t)})}}()},n=["TimeHatConfig","TiiAdGetQuantcastSegments","TiiAdTrackRevSci","TiiAdQuantBlueKaiMindsetImpl","TiiAdFactorySetbkParam","_TiiAudsciTargeting","TiiAdTrackBehavior","TiiAdGetTacodaSegments","TiiAdGetRevSciSegments","TiiAdsGetVideoTestParam","tiiAdSetType","tiiAdSetTarget","tiiHtmlAdWH","TiiBkBeacon","TiiBkFireBeacon","TgxUtilGetRootDomain","TgxUtilGetSubDomain"];for(e=0;e<n.length;e++)window[n[e]]=t(n[e])};window.TgxAdBridge=r,s()};var o=n(1);e.exports=t.default},,,,,,function(e,t,n){n(6),e.exports=n(27)}])});